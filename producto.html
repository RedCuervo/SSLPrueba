<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="UTF-8">
  <meta name="title" content="Aretes de girasol para mujer">
  <meta name="description"
    content="Hermosos aretes en forma de girasol, comodos con productos anti-oxidantes, de excelente calidad, hipoalergenicos, especiales para ti o para regalar.">
  <meta name="keywords" content="Aretes,girasol,antioxidante">
  <meta name="robots" content="noindex, nofollow">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="css/styles-icons.css">
  <link rel="stylesheet" href="css/styles-index.css">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/estilos.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet' title="ref">
  <link rel="icon" href="img/Logo.ico" type="image/png" />
  <script src="js/NavarResponsive.js"></script>

  <title id="product-nom"> PUFFULIZ </title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>


<body>
  <header>
    <div class="navbar navbar-expand-lg navbar-dark" style="background-color: black;">
      <div class="container">
        <a href="index.php" class="navbar-brand" title="index">
          <strong style="color: white;">PUFFULIZ</strong>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader"
          aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarHeader">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a href="index.php" class="nav-link active" style="color: white;" title="index">Inicio</a>
            </li>
            <li class="nav-item">
              <a href="Catalogo.php" class="nav-link active" style="color: white;" title="aretes">Catalogo</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link active" style="color: white;" title="aretes">Vasos & termos</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link active" style="color: white;" title="collares">Disfraces</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link active" style="color: white;" title="cuidado">Decoración</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link active" style="color: white;" title="ropa">Accesorios</a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link active" style="color: white;" title="ropa">Dulces</a>
            </li>
          </ul>
          <!-------------------------------------------BARRA DE BUSQUEDA------------------------------------------------------->
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Buscar" aria-label="Search" id="formulario">
            <button class="btn btn-outline-success" type="submit" id="boton">Buscar</button>
          </form>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <div class="row">
      <div class="col-lg-6">
        <img id="product-image" class="img-fluid" title="Producto" alt="Producto">
      </div>
      <div class="col-lg-6">
        <br>
        <br>
        <container id="product-details"></container>
        <div class="col-lg-12">
          <div id="paypal-button-container" style="text-align: center"></div>
        </div>
        <div class="container">
          <form>
            <div class="form-group">
              <label>Clasificacion:</label>
              <div class="clasificacion">
                <input id="radio1" type="radio" name="estrellas" value="5"><!--
              --><label id="estrella" for="radio1">★</label><!--
              --><input id="radio2" type="radio" name="estrellas" value="4"><!--
              --><label id="estrella" for="radio2">★</label><!--
              --><input id="radio3" type="radio" name="estrellas" value="3"><!--
              --><label id="estrella" for="radio3">★</label><!--
              --><input id="radio4" type="radio" name="estrellas" value="2"><!--
              --><label id="estrella" for="radio4">★</label><!--
              --><input id="radio5" type="radio" name="estrellas" value="1"><!--
              --><label id="estrella" for="radio5">★</label>
              </div>
            </div>
          </form>
          <form>
            <div class="form-group">
              <label>Escribir reseña:</label>
              <br>
              <label>Nombre</label>
              <textarea id="Nombre" class="form-control" rows="1" required></textarea>
              <br>
              <label>Reseña</label>
              <textarea id="resenaInput" class="form-control" rows="3" required></textarea>
            </div>
            <p><button id="resp" type="button" class="btn btn-success">Enviar</button></p>
          </form>

          <table id="tablaResenas" class="table">
            <thead>
              <tr>
                <th>Nombre</th>
                <th>Reseña</th>
                <th>Calificación</th>
              </tr>
            </thead>
            <tbody id="rese">
            </tbody>
          </table>
          <script>
            document.getElementById("resp").addEventListener("click", function () {
              var calif = document.querySelector('input[name="estrellas"]:checked').value;
              var resena = document.getElementById("resenaInput").value;
              var nom = document.getElementById("Nombre").value;
              console.log("Reseña enviada:", resena, nom);
              if (resena.trim() === "" || nom.trim() === "") {
                alert("Por favor, complete todos los campos.");
                return;
              }
              var tabla = document.getElementById("tablaResenas").getElementsByTagName('tbody')[0];
              var fila = tabla.insertRow();
              var celdaNombre = fila.insertCell();
              celdaNombre.innerHTML = nom;
              var celdaResena = fila.insertCell();
              celdaResena.innerHTML = resena;
              var celdaCalificacion = fila.insertCell();
              celdaCalificacion.innerHTML = calif;
              document.getElementById("resenaInput").value = "";
              document.getElementById("Nombre").value = "";

            });
          </script>
        </div>
      </div>
    </div>

    <!-------------------------------------------FOOTER------------------------------------------------------->
    <footer class="container-fluid py-5 my-5 border-top" style="background-color: black;">
      <div class="row justify-content-center">
        <div class="col-12 col-md-3 order-2 order-md-1 text-center">
          <small class="d-block text-light">© 2022-2024 PUFFULIZ</small>
        </div>
        <div class="col-6 col-md-3 order-1 order-md-2 text-center">
          <h5 class="text-light">Características</h5>
          <ul class="list-unstyled text-small">
            <li><a class="text-muted-light" style="color: white;">Buenos </a></li>
            <li><a class="text-muted-light" style="color: white;">Bonitos</a></li>
            <li><a class="text-muted-light" style="color: white;">Baratos</a></li>
            <li><a class="text-muted-light" style="color: white;">Disponibles</a></li>
          </ul>
        </div>
        <div class="col-6 col-md-3 order-1 order-md-2 text-center">
          <h5 class="text-light">Contactanos</h5>
          <ul class="list-unstyled text-small">
            <li><a href="https://www.facebook.com/PuffuLiz?mibextid=ZbWKwL" class="text-light"
                title="facebook">Facebook</a></li>
          </ul>
        </div>
      </div>
    </footer>


    <script>
      function getParameterByName(name, url) {
        if (!url) url = window.location.href;
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
          results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
      }
      const productId = getParameterByName('id');
      fetch('productos.json')
        .then(response => response.json())
        .then(data => {
          const producto = data.find(item => item.id === parseInt(productId));
          if (producto) {
            const productDetailsHTML = `
                  <h1>${producto.nombre}</h1>
                  <p>Precio: $${producto.precio}</p>
                  <p>Cantidad: ${producto.cantidad}</p>
                  <p>Descripción: ${producto.descripcion}</p>
              `;
            document.getElementById('product-details').innerHTML = productDetailsHTML;
            document.getElementById('product-image').src = producto.imagen;
            document.getElementById('product-nom').textContent = producto.nombre;
            paypal.Buttons({
              createOrder: function (data, actions) {
                return actions.order.create({
                  purchase_units: [{
                    amount: {
                      value: producto.precio
                    }
                  }]
                });
              },
              onApprove: function (data, actions) {
                return actions.order.capture().then(function (details) {
                  console.log()
                  alert('Compra exitosa de ' + producto.nombre + ' por ' + details.purchase_units[0].amount.value);
                  window.location.href = "index.php";
                });
              }
            }).render('#paypal-button-container');
          } else {
            document.getElementById('product-details').innerHTML = '<p>Producto no encontrado</p>';
          }
        })
        .catch(error => console.error('Error al cargar los datos:', error));
    </script>
    <script
      src="https://www.paypal.com/sdk/js?client-id=AU4PD63W4zCsCR_PKoyYvTuQDh3d-KlEewpepu1VtE5tgp3kCsNUbNwhUAtpNwSpObc5-yjrsnxD2ADV&currency=MXN"></script>
    <script>
    </script>
    <script src="js/reseña.js"></script>
</body>
</html>